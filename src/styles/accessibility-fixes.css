/* ==========================================================================
   CRITICAL ACCESSIBILITY & READABILITY FIXES
   Fixing contrast, text size, spacing, and visibility issues
   ========================================================================== */

/* ==========================================================================
   HIGH CONTRAST COLOR OVERRIDES - WCAG AA COMPLIANT
   ========================================================================== */

:root {
  /* BEFORE: Poor contrast colors
     AFTER: High contrast, WCAG AA compliant colors */
  
  /* Text Colors - Maximum Readability */
  --color-text-primary: #000000 !important;      /* Pure black - 21:1 on white */
  --color-text-secondary: #1A1A1A !important;    /* Near black - 18.1:1 on white */
  --color-text-tertiary: #333333 !important;     /* Dark gray - 12.6:1 on white */
  --color-text-body: #1A1A1A !important;         /* Body text - 18.1:1 on white */
  --color-text-muted: #4A4A4A !important;        /* Muted - 8.6:1 on white */
  
  /* Background Colors - Clear Separation */
  --color-bg-primary: #FFFFFF !important;        /* Pure white background */
  --color-bg-secondary: #F8F8F8 !important;      /* Very light gray */
  --color-bg-tertiary: #F0F0F0 !important;       /* Light gray for cards */
  
  /* Primary Brand Colors - High Contrast */
  --color-primary: #004D26 !important;           /* Very dark green - 11.3:1 on white */
  --color-primary-light: #006633 !important;     /* Dark green - 7.5:1 on white */
  --color-primary-dark: #002613 !important;      /* Nearly black green - 17.8:1 on white */
  
  /* Button Colors - Maximum Visibility */
  --color-btn-primary-bg: #003D1F !important;    /* Very dark green - 13.2:1 with white text */
  --color-btn-primary-text: #FFFFFF !important;
  --color-btn-primary-hover: #002613 !important; /* Even darker on hover */
  --color-btn-primary-border: #000000 !important;
  
  /* Secondary Buttons - Clear Borders */
  --color-btn-secondary-bg: #FFFFFF !important;
  --color-btn-secondary-text: #000000 !important;
  --color-btn-secondary-border: #000000 !important;
  
  /* Links - High Visibility */
  --color-link: #0033CC !important;              /* Strong blue - 8.3:1 on white */
  --color-link-hover: #002299 !important;        /* Darker blue - 11.4:1 on white */
  --color-link-visited: #551A8B !important;      /* Purple - 7.3:1 on white */
  
  /* Borders - Visible Separation */
  --color-border-light: #CCCCCC !important;      /* Light but visible */
  --color-border-medium: #999999 !important;     /* Medium gray */
  --color-border-dark: #666666 !important;       /* Dark gray */
  --color-border-focus: #0033CC !important;      /* Blue focus */
  
  /* Semantic Colors - High Contrast */
  --color-success: #00661A !important;           /* Dark green - 7.5:1 on white */
  --color-warning: #CC6600 !important;           /* Dark orange - 4.8:1 on white */
  --color-error: #CC0000 !important;             /* Dark red - 5.9:1 on white */
  --color-info: #0055CC !important;              /* Dark blue - 7.2:1 on white */
}

/* ==========================================================================
   TYPOGRAPHY FIXES - INCREASED SIZE & READABILITY
   ========================================================================== */

/* BEFORE: Small, hard-to-read text
   AFTER: Large, clear, readable text */

* {
  /* Force better font rendering */
  -webkit-font-smoothing: antialiased !important;
  -moz-osx-font-smoothing: grayscale !important;
  text-rendering: optimizeLegibility !important;
}

html {
  /* Increase base font size */
  font-size: 112.5% !important; /* 18px base instead of 16px */
}

body {
  /* Apply clean, readable font stack */
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', 
               'Arial', sans-serif !important;
  font-size: 1rem !important;     /* 18px */
  line-height: 1.7 !important;    /* Increased line height */
  font-weight: 400 !important;
  color: var(--color-text-primary) !important;
  background-color: var(--color-bg-primary) !important;
  letter-spacing: 0.01em !important;
}

/* Headings - Clear Hierarchy */
h1 {
  font-size: 2.5rem !important;   /* 45px */
  font-weight: 900 !important;    /* Extra bold */
  line-height: 1.2 !important;
  color: #000000 !important;
  margin-bottom: 2rem !important;
  letter-spacing: -0.02em !important;
}

h2 {
  font-size: 2rem !important;     /* 36px */
  font-weight: 800 !important;    /* Bold */
  line-height: 1.3 !important;
  color: #000000 !important;
  margin-bottom: 1.5rem !important;
  margin-top: 2.5rem !important;
  letter-spacing: -0.01em !important;
}

h3 {
  font-size: 1.5rem !important;   /* 27px */
  font-weight: 700 !important;
  line-height: 1.4 !important;
  color: #1A1A1A !important;
  margin-bottom: 1.25rem !important;
  margin-top: 2rem !important;
}

h4 {
  font-size: 1.25rem !important;  /* 22.5px */
  font-weight: 600 !important;
  color: #1A1A1A !important;
  margin-bottom: 1rem !important;
}

/* Paragraphs - Readable Body Text */
p {
  font-size: 1rem !important;     /* 18px */
  line-height: 1.8 !important;    /* Generous line height */
  color: #1A1A1A !important;
  margin-bottom: 1.5rem !important;
  max-width: 70ch !important;     /* Optimal reading width */
}

/* Small text - Still readable */
small, .text-sm {
  font-size: 0.9rem !important;   /* 16.2px minimum */
  line-height: 1.6 !important;
}

/* Labels - Clear and visible */
label {
  font-size: 1rem !important;
  font-weight: 600 !important;
  color: #000000 !important;
  margin-bottom: 0.5rem !important;
  display: block !important;
}

/* ==========================================================================
   SPACING & WHITESPACE FIXES
   ========================================================================== */

/* Add breathing room to all sections */
section, .section {
  padding-top: 3rem !important;    /* 54px */
  padding-bottom: 3rem !important;
  margin-bottom: 2rem !important;
}

/* Card spacing */
.card, [class*="card"] {
  padding: 2rem !important;        /* 36px internal padding */
  margin-bottom: 2rem !important;
  background: #FFFFFF !important;
  border: 2px solid #000000 !important;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.15) !important;
}

/* Container padding */
.container, .max-w-7xl {
  padding-left: 2rem !important;
  padding-right: 2rem !important;
}

/* List spacing */
ul, ol {
  margin-bottom: 2rem !important;
}

li {
  margin-bottom: 0.75rem !important;
  line-height: 1.8 !important;
}

/* ==========================================================================
   BUTTON & CTA FIXES - LARGE, CLEAR, ACCESSIBLE
   ========================================================================== */

/* BEFORE: Small, low-contrast buttons
   AFTER: Large, high-contrast, clear buttons */

button, .btn, [class*="btn-"], a[class*="btn"] {
  /* Size & Spacing */
  min-height: 56px !important;     /* Large touch target */
  min-width: 120px !important;
  padding: 1rem 2rem !important;   /* Generous padding */
  
  /* Typography */
  font-size: 1.125rem !important;  /* 20.25px */
  font-weight: 700 !important;     /* Bold */
  line-height: 1.2 !important;
  letter-spacing: 0.02em !important;
  text-transform: none !important;
  
  /* Visual */
  border-radius: 8px !important;
  border: 3px solid transparent !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
  
  /* Ensure text doesn't wrap */
  white-space: nowrap !important;
  
  /* Clear focus state */
  position: relative !important;
}

/* Primary buttons - Maximum contrast */
.btn-primary, button[class*="primary"] {
  background-color: #003D1F !important;
  color: #FFFFFF !important;
  border-color: #003D1F !important;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2) !important;
}

.btn-primary:hover {
  background-color: #002613 !important;
  border-color: #002613 !important;
  transform: translateY(-2px) !important;
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3) !important;
}

/* Secondary buttons - Clear borders */
.btn-secondary, button[class*="secondary"] {
  background-color: #FFFFFF !important;
  color: #000000 !important;
  border: 3px solid #000000 !important;
}

.btn-secondary:hover {
  background-color: #F0F0F0 !important;
  transform: translateY(-2px) !important;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2) !important;
}

/* Focus states - Highly visible */
button:focus, .btn:focus, a:focus {
  outline: 4px solid #0033CC !important;
  outline-offset: 2px !important;
  z-index: 999 !important;
}

/* Disabled state - Clear indication */
button:disabled, .btn:disabled {
  opacity: 0.5 !important;
  cursor: not-allowed !important;
  background-color: #CCCCCC !important;
  color: #666666 !important;
}

/* ==========================================================================
   LINK FIXES - CLEAR & DISTINGUISHABLE
   ========================================================================== */

a {
  color: #0033CC !important;
  font-weight: 500 !important;
  text-decoration: underline !important;
  text-underline-offset: 3px !important;
  text-decoration-thickness: 2px !important;
}

a:hover {
  color: #002299 !important;
  text-decoration-thickness: 3px !important;
}

a:visited {
  color: #551A8B !important;
}

a:focus {
  outline: 3px solid #0033CC !important;
  outline-offset: 2px !important;
  background-color: #FFFFCC !important;
}

/* ==========================================================================
   FORM FIXES - CLEAR INPUTS & LABELS
   ========================================================================== */

input, textarea, select {
  font-size: 1rem !important;      /* 18px */
  padding: 0.75rem 1rem !important;
  border: 2px solid #000000 !important;
  background-color: #FFFFFF !important;
  color: #000000 !important;
  min-height: 48px !important;
  border-radius: 4px !important;
}

input:focus, textarea:focus, select:focus {
  outline: 3px solid #0033CC !important;
  outline-offset: 2px !important;
  border-color: #0033CC !important;
  background-color: #F0F8FF !important;
}

input::placeholder, textarea::placeholder {
  color: #666666 !important;
  opacity: 1 !important;
}

/* Error states */
.input-error, input[aria-invalid="true"] {
  border-color: #CC0000 !important;
  border-width: 3px !important;
  background-color: #FFF5F5 !important;
}

/* ==========================================================================
   NAVIGATION FIXES - CLEAR & ACCESSIBLE
   ========================================================================== */

nav, [role="navigation"] {
  background-color: #FFFFFF !important;
  border-bottom: 3px solid #000000 !important;
  padding: 1rem 0 !important;
}

nav a, nav button {
  font-size: 1.125rem !important;
  font-weight: 600 !important;
  padding: 0.75rem 1.5rem !important;
  color: #000000 !important;
  min-height: 48px !important;
}

nav a:hover, nav button:hover {
  background-color: #F0F0F0 !important;
  text-decoration: none !important;
}

nav a.active, nav button.active {
  background-color: #003D1F !important;
  color: #FFFFFF !important;
}

/* ==========================================================================
   TABLE FIXES - READABLE DATA
   ========================================================================== */

table {
  width: 100% !important;
  border-collapse: collapse !important;
  margin-bottom: 2rem !important;
}

th {
  background-color: #000000 !important;
  color: #FFFFFF !important;
  font-weight: 700 !important;
  padding: 1rem !important;
  text-align: left !important;
  font-size: 1rem !important;
}

td {
  padding: 1rem !important;
  border-bottom: 2px solid #CCCCCC !important;
  color: #1A1A1A !important;
  font-size: 1rem !important;
}

tr:nth-child(even) {
  background-color: #F8F8F8 !important;
}

tr:hover {
  background-color: #F0F0F0 !important;
}

/* ==========================================================================
   MODAL & OVERLAY FIXES
   ========================================================================== */

.modal, [role="dialog"] {
  background-color: #FFFFFF !important;
  border: 3px solid #000000 !important;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3) !important;
  padding: 2rem !important;
}

.modal-overlay {
  background-color: rgba(0, 0, 0, 0.75) !important;
}

/* ==========================================================================
   ALERT & MESSAGE FIXES
   ========================================================================== */

.alert, [role="alert"] {
  padding: 1.5rem !important;
  margin-bottom: 2rem !important;
  border: 3px solid !important;
  border-radius: 8px !important;
  font-size: 1rem !important;
  font-weight: 600 !important;
}

.alert-success {
  background-color: #E6F4EA !important;
  color: #00661A !important;
  border-color: #00661A !important;
}

.alert-warning {
  background-color: #FFF4E6 !important;
  color: #CC6600 !important;
  border-color: #CC6600 !important;
}

.alert-error {
  background-color: #FFE6E6 !important;
  color: #CC0000 !important;
  border-color: #CC0000 !important;
}

/* ==========================================================================
   ICON FIXES - ENSURE VISIBILITY
   ========================================================================== */

svg, [class*="icon"] {
  min-width: 24px !important;
  min-height: 24px !important;
  stroke-width: 2.5 !important;
}

/* Ensure icons have proper contrast */
svg path, svg line, svg circle {
  stroke: currentColor !important;
}

/* ==========================================================================
   SKIP LINK - ALWAYS VISIBLE WHEN FOCUSED
   ========================================================================== */

.skip-to-main, [href="#main"], [href="#main-content"] {
  position: absolute !important;
  left: -9999px !important;
  z-index: 999999 !important;
}

.skip-to-main:focus, [href="#main"]:focus, [href="#main-content"]:focus {
  position: fixed !important;
  top: 10px !important;
  left: 10px !important;
  background-color: #000000 !important;
  color: #FFFFFF !important;
  padding: 1rem 2rem !important;
  font-size: 1.125rem !important;
  font-weight: 700 !important;
  text-decoration: none !important;
  border: 3px solid #FFFFFF !important;
  border-radius: 8px !important;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5) !important;
}

/* ==========================================================================
   RESPONSIVE FIXES - MAINTAIN READABILITY ON ALL DEVICES
   ========================================================================== */

@media (max-width: 768px) {
  html {
    font-size: 100% !important; /* 16px base on mobile */
  }
  
  body {
    font-size: 1.125rem !important; /* Still 18px */
  }
  
  h1 {
    font-size: 2rem !important; /* 32px on mobile */
  }
  
  h2 {
    font-size: 1.75rem !important; /* 28px on mobile */
  }
  
  .container, .max-w-7xl {
    padding-left: 1rem !important;
    padding-right: 1rem !important;
  }
  
  button, .btn {
    width: 100% !important;
    margin-bottom: 1rem !important;
  }
}

/* ==========================================================================
   PRINT STYLES - ENSURE READABILITY WHEN PRINTED
   ========================================================================== */

@media print {
  * {
    background: transparent !important;
    color: #000000 !important;
  }
  
  body {
    font-size: 12pt !important;
    line-height: 1.5 !important;
  }
  
  h1 { font-size: 24pt !important; }
  h2 { font-size: 18pt !important; }
  h3 { font-size: 14pt !important; }
  
  a {
    text-decoration: underline !important;
  }
  
  a[href^="http"]:after {
    content: " (" attr(href) ")" !important;
  }
}

/* ==========================================================================
   FORCED VISIBILITY - OVERRIDE ANY CONFLICTING STYLES
   ========================================================================== */

/* Ensure nothing is hidden that shouldn't be */
main *, article *, section * {
  opacity: 1 !important;
  visibility: visible !important;
}

/* Ensure interactive elements are always visible */
button, a, input, select, textarea, [role="button"], [tabindex] {
  opacity: 1 !important;
  visibility: visible !important;
}

/* Remove any blur effects that reduce readability */
* {
  filter: none !important;
  backdrop-filter: none !important;
}

/* ==========================================================================
   HIGH CONTRAST MODE SUPPORT
   ========================================================================== */

@media (prefers-contrast: high) {
  * {
    border-color: currentColor !important;
  }
  
  button, .btn {
    border-width: 3px !important;
  }
  
  :focus {
    outline-width: 4px !important;
  }
}