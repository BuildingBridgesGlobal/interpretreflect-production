/* ==========================================================================
   Typography System - WCAG AA Compliant
   Font: Inter (with accessible fallbacks)
   ========================================================================== */

/* Import Inter font with multiple weights */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

/* ==========================================================================
   CSS Custom Properties for Typography
   ========================================================================== */
:root {
  /* Font Families */
  --font-primary: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  --font-mono: 'SF Mono', 'Monaco', 'Inconsolata', 'Fira Code', 'Fira Mono', 'Roboto Mono', monospace;
  
  /* Font Sizes - Responsive with clamp() */
  --text-xs: clamp(0.75rem, 1.5vw, 0.875rem);     /* 12px → 14px */
  --text-sm: clamp(0.875rem, 1.75vw, 1rem);       /* 14px → 16px */
  --text-base: clamp(1rem, 2vw, 1.125rem);        /* 16px → 18px */
  --text-lg: clamp(1.125rem, 2.25vw, 1.25rem);    /* 18px → 20px */
  --text-xl: clamp(1.25rem, 2.5vw, 1.5rem);       /* 20px → 24px */
  --text-2xl: clamp(1.5rem, 3vw, 1.875rem);       /* 24px → 30px */
  --text-3xl: clamp(1.875rem, 3.5vw, 2.25rem);    /* 30px → 36px */
  --text-4xl: clamp(2.25rem, 4vw, 3rem);          /* 36px → 48px */
  --text-5xl: clamp(3rem, 5vw, 3.75rem);          /* 48px → 60px */
  
  /* Font Weights */
  --font-normal: 400;
  --font-medium: 500;
  --font-semibold: 600;
  --font-bold: 700;
  
  /* Line Heights */
  --leading-none: 1;
  --leading-tight: 1.25;
  --leading-snug: 1.375;
  --leading-normal: 1.5;
  --leading-relaxed: 1.625;
  --leading-loose: 1.75;
  --leading-body: 1.6;
  
  /* Letter Spacing */
  --tracking-tighter: -0.05em;
  --tracking-tight: -0.025em;
  --tracking-normal: 0;
  --tracking-wide: 0.025em;
  --tracking-wider: 0.05em;
  --tracking-widest: 0.1em;
  --tracking-body: 0.015em;
  --tracking-heading: 0.02em;
  
  /* Text Colors with WCAG AA Contrast */
  --text-primary: #1A1F1C;      /* 16.5:1 on white */
  --text-secondary: #2D3A31;    /* 12.3:1 on white */
  --text-tertiary: #445248;     /* 8.7:1 on white */
  --text-body: #5C6A60;         /* 6.2:1 on white */
  --text-muted: #748278;        /* 4.5:1 on white (minimum) */
  --text-white: #FFFFFF;        /* For dark backgrounds */
  
  /* Paragraph Spacing */
  --paragraph-spacing: 1.5rem;
}

/* ==========================================================================
   Base Typography Styles
   ========================================================================== */

/* Reset & Base */
* {
  font-family: inherit;
  line-height: inherit;
}

/* HTML & Body */
html {
  font-size: 100%; /* 16px base, respects user preferences */
  -webkit-text-size-adjust: 100%;
  -moz-text-size-adjust: 100%;
  text-size-adjust: 100%;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  font-family: var(--font-primary);
  font-size: var(--text-base);
  font-weight: var(--font-normal);
  line-height: var(--leading-body);
  letter-spacing: var(--tracking-body);
  color: var(--text-primary);
  background-color: #FFFFFF;
}

/* ==========================================================================
   Headings
   ========================================================================== */

h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-primary);
  font-weight: var(--font-bold);
  letter-spacing: var(--tracking-heading);
  line-height: var(--leading-tight);
  color: var(--text-primary);
  margin-top: 0;
  margin-bottom: 0.5em;
}

h1 {
  font-size: var(--text-4xl);
  line-height: var(--leading-none);
  letter-spacing: var(--tracking-tight);
  font-weight: var(--font-bold);
}

h2 {
  font-size: var(--text-3xl);
  line-height: var(--leading-tight);
  font-weight: var(--font-bold);
}

h3 {
  font-size: var(--text-2xl);
  line-height: var(--leading-snug);
  font-weight: var(--font-semibold);
}

h4 {
  font-size: var(--text-xl);
  line-height: var(--leading-snug);
  font-weight: var(--font-semibold);
}

h5 {
  font-size: var(--text-lg);
  line-height: var(--leading-normal);
  font-weight: var(--font-medium);
}

h6 {
  font-size: var(--text-base);
  line-height: var(--leading-normal);
  font-weight: var(--font-medium);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wider);
}

/* ==========================================================================
   Body Text
   ========================================================================== */

p {
  font-size: var(--text-base);
  line-height: var(--leading-body);
  letter-spacing: var(--tracking-body);
  color: var(--text-body);
  margin-top: 0;
  margin-bottom: var(--paragraph-spacing);
}

/* Lead/Intro Paragraphs */
.lead, .text-lead {
  font-size: var(--text-lg);
  line-height: var(--leading-relaxed);
  font-weight: var(--font-normal);
  color: var(--text-secondary);
}

/* Small Text */
small, .text-sm {
  font-size: var(--text-sm);
  line-height: var(--leading-normal);
}

.text-xs {
  font-size: var(--text-xs);
  line-height: var(--leading-normal);
}

/* ==========================================================================
   Links
   ========================================================================== */

a {
  color: #1E3A8A;
  text-decoration: underline;
  text-underline-offset: 2px;
  transition: color 0.2s ease;
}

a:hover {
  color: #1E3A8A;
  text-decoration-thickness: 2px;
}

a:focus-visible {
  outline: 3px solid #5C7F4F;
  outline-offset: 2px;
  border-radius: 2px;
}

a:visited {
  color: #6B21A8;
}

/* ==========================================================================
   Lists
   ========================================================================== */

ul, ol {
  font-size: var(--text-base);
  line-height: var(--leading-body);
  color: var(--text-body);
  margin-top: 0;
  margin-bottom: var(--paragraph-spacing);
  padding-left: 1.5rem;
}

li {
  margin-bottom: 0.5rem;
}

/* Nested lists */
ul ul, ol ol, ul ol, ol ul {
  margin-top: 0.5rem;
  margin-bottom: 0.5rem;
}

/* ==========================================================================
   Blockquotes
   ========================================================================== */

blockquote {
  font-size: var(--text-lg);
  line-height: var(--leading-relaxed);
  font-style: italic;
  color: var(--text-secondary);
  border-left: 4px solid #5C7F4F;
  padding-left: 1.5rem;
  margin: 2rem 0;
}

/* ==========================================================================
   Code & Preformatted Text
   ========================================================================== */

code, kbd, samp, pre {
  font-family: var(--font-mono);
  font-size: 0.875em;
}

code {
  background-color: #F5F7F5;
  padding: 0.125rem 0.25rem;
  border-radius: 0.25rem;
  color: var(--text-primary);
}

pre {
  background-color: #F5F7F5;
  padding: 1rem;
  border-radius: 0.5rem;
  overflow-x: auto;
  line-height: var(--leading-normal);
}

pre code {
  background: none;
  padding: 0;
}

/* ==========================================================================
   Form Typography
   ========================================================================== */

label {
  display: block;
  font-size: var(--text-sm);
  font-weight: var(--font-medium);
  color: var(--text-secondary);
  margin-bottom: 0.5rem;
  letter-spacing: var(--tracking-wide);
}

input, textarea, select {
  font-family: var(--font-primary);
  font-size: var(--text-base);
  line-height: var(--leading-normal);
  color: var(--text-primary);
}

input::placeholder,
textarea::placeholder {
  color: var(--text-muted);
  opacity: 1;
}

/* ==========================================================================
   Buttons
   ========================================================================== */

button, .btn {
  font-family: var(--font-primary);
  font-size: var(--text-base);
  font-weight: var(--font-medium);
  line-height: var(--leading-none);
  letter-spacing: var(--tracking-wide);
  text-transform: none;
}

/* ==========================================================================
   Tables
   ========================================================================== */

table {
  font-size: var(--text-base);
  line-height: var(--leading-normal);
}

th {
  font-weight: var(--font-semibold);
  text-align: left;
  color: var(--text-primary);
}

td {
  color: var(--text-body);
}

/* ==========================================================================
   Utility Classes
   ========================================================================== */

/* Text Alignment */
.text-left { text-align: left; }
.text-center { text-align: center; }
.text-right { text-align: right; }
.text-justify { text-align: justify; }

/* Font Weight */
.font-normal { font-weight: var(--font-normal); }
.font-medium { font-weight: var(--font-medium); }
.font-semibold { font-weight: var(--font-semibold); }
.font-bold { font-weight: var(--font-bold); }

/* Text Transform */
.uppercase { text-transform: uppercase; }
.lowercase { text-transform: lowercase; }
.capitalize { text-transform: capitalize; }
.normal-case { text-transform: none; }

/* Letter Spacing */
.tracking-tighter { letter-spacing: var(--tracking-tighter); }
.tracking-tight { letter-spacing: var(--tracking-tight); }
.tracking-normal { letter-spacing: var(--tracking-normal); }
.tracking-wide { letter-spacing: var(--tracking-wide); }
.tracking-wider { letter-spacing: var(--tracking-wider); }
.tracking-widest { letter-spacing: var(--tracking-widest); }

/* Line Height */
.leading-none { line-height: var(--leading-none); }
.leading-tight { line-height: var(--leading-tight); }
.leading-snug { line-height: var(--leading-snug); }
.leading-normal { line-height: var(--leading-normal); }
.leading-relaxed { line-height: var(--leading-relaxed); }
.leading-loose { line-height: var(--leading-loose); }

/* Text Decoration */
.underline { text-decoration: underline; }
.no-underline { text-decoration: none; }
.line-through { text-decoration: line-through; }

/* Truncate Text */
.truncate {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Line Clamp */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.line-clamp-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* ==========================================================================
   Responsive Typography
   ========================================================================== */

@media (max-width: 640px) {
  body {
    font-size: 16px; /* Prevent zoom on iOS */
  }
  
  h1 { font-size: var(--text-3xl); }
  h2 { font-size: var(--text-2xl); }
  h3 { font-size: var(--text-xl); }
}

/* ==========================================================================
   Dark Mode Support
   ========================================================================== */

@media (prefers-color-scheme: dark) {
  :root {
    --text-primary: #F5F7F5;
    --text-secondary: #E0E7E2;
    --text-tertiary: #C2CFC5;
    --text-body: #A4B2A8;
    --text-muted: #8C9A90;
  }
  
  body {
    background-color: #1A1F1C;
  }
  
  a {
    color: #8FA881;
  }
  
  a:visited {
    color: #9B8AA3;
  }
}